<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>EscapeLog - 회원가입</title>
    <!-- Bootstrap -->
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
    <!-- Custom theme -->
    <link rel="stylesheet" th:href="@{/css/custom.css}" />
</head>
<body class="bg-background text-foreground">

<div class="min-vh-100 d-flex flex-column justify-content-center align-items-center p-4">

    <!-- Logo -->
    <a th:href="@{/}" class="d-flex align-items-center gap-2 mb-4 text-decoration-none">
        <div class="d-flex align-items-center justify-content-center rounded-circle bg-primary"
             style="width:40px;height:40px;">
            <!-- 흰색 자물쇠 아이콘 -->
            <svg xmlns="http://www.w3.org/2000/svg"
                 width="20" height="20" viewBox="0 0 24 24"
                 fill="none" stroke="#ffffff" stroke-width="2"
                 stroke-linecap="round" stroke-linejoin="round">
                <rect x="4" y="11" width="16" height="9" rx="2" ry="2"/>
                <path d="M8 11V7a4 4 0 0 1 8 0v4"/>
            </svg>
        </div>
        <h1 class="h4 m-0 fw-bold text-foreground">EscapeLog</h1>
    </a>

    <!-- Signup Card -->
    <div class="w-100" style="max-width: 460px;">
        <div class="card-ghost rounded-4 shadow-sm p-4">
            <!-- Title -->
            <div class="mb-3">
                <h2 class="h4 fw-bold text-card-foreground mb-1">회원가입</h2>
                <p class="small text-muted-foreground mb-0">
                    방탈출 기록을 시작하기 위해 계정을 만들어주세요.
                </p>
            </div>

            <!-- Form -->
            <form th:action="@{/signup}"
                  th:object="${MemberSignUpForm}"
                  method="post"
                  class="d-flex flex-column gap-3">

                <!-- 글로벌 에러 -->
                <div th:if="${#fields.hasGlobalErrors()}" class="mb-2">
                    <p th:each="err : ${#fields.globalErrors()}"
                       th:text="${err}"
                       class="small text-danger mb-1"></p>
                </div>

                <!-- 로그인 ID -->
                <div>
                    <label for="loginId" class="form-label small text-card-foreground mb-1">
                        로그인 ID
                    </label>
                    <input id="loginId"
                           th:field="*{loginId}"
                           type="text"
                           placeholder="4~20자, 영문/숫자/특수문자 허용"
                           autocomplete="username"
                           class="form-control bg-background border-border text-foreground" />
                    <p th:if="${#fields.hasErrors('loginId')}"
                       th:errors="*{loginId}"
                       class="small text-danger mt-1 mb-0"></p>
                </div>

                <!-- 비밀번호 -->
                <div>
                    <label for="password" class="form-label small text-card-foreground mb-1">
                        비밀번호
                    </label>
                    <input id="password"
                           th:field="*{password}"
                           type="password"
                           placeholder="6~20자, 영문/숫자/특수문자 허용"
                           autocomplete="new-password"
                           class="form-control bg-background border-border text-foreground" />
                    <p th:if="${#fields.hasErrors('password')}"
                       th:errors="*{password}"
                       class="small text-danger mt-1 mb-0"></p>
                </div>

                <!-- 닉네임 -->
                <div>
                    <label for="name" class="form-label small text-card-foreground mb-1">
                        닉네임
                    </label>
                    <input id="name"
                           th:field="*{name}"
                           type="text"
                           placeholder="한글/영문/숫자, 50자 이하"
                           class="form-control bg-background border-border text-foreground" />
                    <p th:if="${#fields.hasErrors('name')}"
                       th:errors="*{name}"
                       class="small text-danger mt-1 mb-0"></p>
                </div>

                <!-- Submit -->
                <button type="submit"
                        class="btn btn-primary-soft w-100 mt-2">
                    회원가입
                </button>
            </form>

            <!-- 이미 계정 있음 -->
            <p class="text-center small text-muted-foreground mt-4 mb-0">
                이미 계정이 있으신가요?
                <a th:href="@{/login}"
                   class="text-primary text-decoration-none fw-semibold">
                    로그인
                </a>
            </p>
        </div>
    </div>

    <!-- 약관 안내 -->
    <p class="text-center small text-muted-foreground mt-3 mb-0" style="max-width: 420px;">
        회원가입을 진행하면
        <span class="text-decoration-underline">서비스 이용약관</span> 및
        <span class="text-decoration-underline">개인정보 처리방침</span>에 동의한 것으로 간주됩니다.
    </p>
</div>

<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>
</html>
