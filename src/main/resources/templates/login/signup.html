<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>EscapeLog - 회원가입</title>
    <link rel="stylesheet" th:href="@{/css/globals.css}">
</head>
<body>
<div class="min-h-screen bg-background flex flex-col items-center justify-center p-4">
    <!-- Logo -->
    <a th:href="@{/}" class="flex items-center gap-2 mb-8">
        <div class="h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-sm">
            EL
        </div>
        <h1 class="text-2xl font-bold text-foreground">EscapeLog</h1>
    </a>

    <!-- Signup Card -->
    <div class="w-full max-w-md border border-border bg-card rounded-lg shadow-sm">
        <div class="px-6 pt-6 pb-2 space-y-1">
            <h2 class="text-2xl font-bold text-card-foreground">회원가입</h2>
            <p class="text-sm text-muted-foreground">
                방탈출 기록을 시작하기 위해 계정을 만들어주세요
            </p>
        </div>

        <div class="px-6 pb-6 space-y-4">
            <!-- 글로벌 에러 (중복 ID/닉네임 등) -->
            <div th:if="${#fields.hasGlobalErrors()}">
                <p th:each="err : ${#fields.globalErrors()}"
                   th:text="${err}"
                   class="text-sm text-red-500"></p>
            </div>

            <form th:action="@{/signup}"
                  th:object="${memberForm}"
                  method="post"
                  class="space-y-4">

                <div class="space-y-1">
                    <label for="loginId" class="block text-sm text-card-foreground">로그인 ID</label>
                    <input id="loginId"
                           th:field="*{loginId}"
                           type="text"
                           placeholder="4~20자, 영문/숫자/특수문자 허용"
                           class="w-full px-3 py-2 rounded-md border border-input bg-background text-sm"/>
                    <p th:if="${#fields.hasErrors('loginId')}"
                       th:errors="*{loginId}"
                       class="text-xs text-red-500"></p>
                </div>

                <div class="space-y-1">
                    <label for="password" class="block text-sm text-card-foreground">비밀번호</label>
                    <input id="password"
                           th:field="*{password}"
                           type="password"
                           placeholder="6~20자, 영문/숫자/특수문자 허용"
                           class="w-full px-3 py-2 rounded-md border border-input bg-background text-sm"/>
                    <p th:if="${#fields.hasErrors('password')}"
                       th:errors="*{password}"
                       class="text-xs text-red-500"></p>
                </div>

                <div class="space-y-1">
                    <label for="name" class="block text-sm text-card-foreground">닉네임</label>
                    <input id="name"
                           th:field="*{name}"
                           type="text"
                           placeholder="한글/영문/숫자, 50자 이하"
                           class="w-full px-3 py-2 rounded-md border border-input bg-background text-sm"/>
                    <p th:if="${#fields.hasErrors('name')}"
                       th:errors="*{name}"
                       class="text-xs text-red-500"></p>
                </div>

                <button type="submit"
                        class="w-full py-2 rounded-md bg-primary text-primary-foreground text-sm font-medium hover:bg-primary/90">
                    회원가입
                </button>
            </form>

            <!-- 소셜 로그인 영역: 실제 구현 전이라면 비활성/삭제 가능 -->
            <div class="relative my-6">
                <div class="absolute inset-0 flex items-center">
                    <span class="w-full border-t border-border"></span>
                </div>
                <div class="relative flex justify-center text-xs uppercase">
                    <span class="bg-card px-2 text-muted-foreground">또는</span>
                </div>
            </div>

            <button type="button"
                    class="w-full py-2 rounded-md border border-border bg-transparent text-xs text-muted-foreground hover:bg-muted"
                    disabled>
                Google로 계속하기 (준비 중)
            </button>

            <p class="text-center text-sm text-muted-foreground mt-4">
                이미 계정이 있으신가요?
                <a th:href="@{/login}" class="text-primary hover:underline font-medium">로그인</a>
            </p>
        </div>
    </div>

    <!-- Terms -->
    <p class="text-xs text-muted-foreground text-center mt-6 max-w-md">
        회원가입을 진행하면
        <span class="underline">서비스 이용약관</span>과
        <span class="underline">개인정보 처리방침</span>에 동의하는 것으로 간주됩니다.
        <!-- 실제 링크 필요하면 th:href 달아주면 됨 -->
    </p>
</div>
</body>
</html>
