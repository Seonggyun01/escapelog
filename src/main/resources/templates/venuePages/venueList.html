<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>๋งค์ฅ ๋ชฉ๋ก - EscapeLog</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
    <link rel="stylesheet" th:href="@{/css/custom.css}" />
</head>
<body class="bg-background text-foreground">

<!-- โ ๊ณตํต ๋์๋ณด๋ ํค๋ -->
<div th:replace="fragments/dashboardHeader :: dashboard-header('venues')"></div>

<main class="container py-5">

    <!-- ์๋ชฉ + ์ ๋งค์ฅ ๋ฑ๋ก ๋ฒํผ -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="mb-0">๐ ๋ฑ๋ก๋ ๋งค์ฅ ๋ชฉ๋ก</h2>
        <a th:href="@{/venues/new}" class="btn btn-primary">
            ๏ผ ์ ๋งค์ฅ ๋ฑ๋ก
        </a>
    </div>

    <!-- ๐ ๊ฒ์ + ์๋ฌ -->
    <form th:action="@{/venues}" method="get" class="d-flex flex-column gap-2 mb-4">

        <!-- ๐ ๊ฒ์ ์์ญ -->
        <div class="d-flex align-items-center mb-3">
            <input type="text"
                   name="keyword"
                   class="form-control"
                   placeholder="๋งค์ฅ๋ช ๋๋ ์ง์ญ์ผ๋ก ๊ฒ์"
                   th:value="${keyword}">

            <button type="submit"
                    name="action"
                    value="search"
                    class="btn btn-outline-secondary"
                    style="
                border-radius: 16px;
                padding: 10px 18px;
                margin-left: 12px;
                min-width: 80px;
            ">
                ๊ฒ์
            </button>
        </div>

        <!-- 3์ค: ์๋ฌ ์ต์ + ์์ฉ ๋ฒํผ -->
        <div class="d-flex justify-content-end align-items-center gap-3 sort-group">

            <select id="sortSelect"
                    name="sort"
                    class="form-select"
                    style="max-width: 220px;">
                <option value=""
                        th:selected="${sort} == null or sort == ''">
                    ์๋ฌ ์์
                </option>
                <option th:value="'nameAsc'"
                        th:selected="${sort} == 'nameAsc'">
                    ์ด๋ฆ์(ใฑ-ใ)
                </option>
                <option th:value="'nameDesc'"
                        th:selected="${sort} == 'nameDesc'">
                    ์ด๋ฆ ์ญ์(ใ-ใฑ)
                </option>
            </select>

            <button type="submit"
                    name="action"
                    value="sort"
                    class="btn btn-outline-primary round-btn">
                ์์ฉ
            </button>

            <a th:href="@{/venues}" class="btn btn-outline-secondary round-btn">
                ์ด๊ธฐํ
            </a>
        </div>
    </form>

    <!-- ๐ ๋งค์ฅ ๋ฆฌ์คํธ ํ์ด๋ธ -->
    <table class="table table-hover align-middle shadow-sm bg-card">
        <thead class="table-light">
        <tr>
            <th>๋ฒํธ</th>
            <th>๋งค์ฅ๋ช</th>
            <th>์ง์ญ</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="venue, iterStat : ${venues}">
            <td th:text="${iterStat.count}">1</td>
            <td th:text="${venue.name}">ํ๋ ์ด์ค์ผ์ดํ ๋ฃธ</td>
            <td th:text="${venue.region}">์์ธ ํ๋</td>
        </tr>
        <tr th:if="${#lists.isEmpty(venues)}">
            <td colspan="3" class="text-center text-muted py-4">๋ฑ๋ก๋ ๋งค์ฅ์ด ์์ต๋๋ค.</td>
        </tr>
        </tbody>
    </table>

    <a th:href="@{/dashboard}" class="btn btn-outline-secondary mt-3">๋์๋ณด๋๋ก ๋์๊ฐ๊ธฐ</a>

</main>

</body>
</html>
